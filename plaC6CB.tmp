[gd_scene load_steps=16 format=3 uid="uid://ckfhx8ybmk8q1"]

[ext_resource type="Script" path="res://player.gd" id="1_5v52i"]
[ext_resource type="Texture2D" uid="uid://dllpdiawylsqk" path="res://icon.svg" id="2_yus7t"]
[ext_resource type="PackedScene" uid="uid://t5d300schnbx" path="res://velocity_component.tscn" id="3_cd58x"]
[ext_resource type="PackedScene" uid="uid://skotr71q1hpn" path="res://hitbox_component.tscn" id="3_ur2e8"]
[ext_resource type="Texture2D" uid="uid://bj83fjqaqqkvt" path="res://guy1.png" id="5_8bujh"]
[ext_resource type="Texture2D" uid="uid://c28s6lk6324vp" path="res://guy2.png" id="6_k53l0"]
[ext_resource type="Script" path="res://DirectionFlipper.gd" id="7_mwda3"]
[ext_resource type="PackedScene" uid="uid://fg3eiqc5q8pi" path="res://hurtbox_component.tscn" id="7_xq8gp"]
[ext_resource type="PackedScene" uid="uid://cfm8wr35elasl" path="res://health_component.tscn" id="8_mars2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c2krb"]
size = Vector2(104, 166)

[sub_resource type="Animation" id="Animation_bljtr"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("5_8bujh")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Polygon2D:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [PackedVector2Array()]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../HitboxComponent/CollisionPolygon2D:polygon")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [PackedVector2Array()]
}

[sub_resource type="Animation" id="Animation_qrkb0"]
resource_name = "attack_1"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [ExtResource("5_8bujh"), ExtResource("6_k53l0")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Polygon2D:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [PackedVector2Array(), PackedVector2Array(196, -235, 254, -181, 313, -50, 312, 100, 251, 184, 192, 194, 31, 119, 102, 100, 170, 45, 204, -65, 216, -189), PackedVector2Array()]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../HitboxComponent/CollisionPolygon2D:polygon")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [PackedVector2Array(), PackedVector2Array(99.1283, -106.638, 158.808, -106.638, 159.313, 87.2083, 97.1052, 88.5639, 15.1727, 53.3191, 38.4375, -43.8301), PackedVector2Array()]
}

[sub_resource type="Animation" id="Animation_3gg8t"]
resource_name = "attack_2"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [ExtResource("6_k53l0"), ExtResource("5_8bujh")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Polygon2D:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [PackedVector2Array(), PackedVector2Array(199, 189, 237, 165, 292, 50, 292, -123, 235, -224, 197, -236, 140, -66, 178, -33, 200, 27, 215, 140), PackedVector2Array()]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../HitboxComponent/CollisionPolygon2D:polygon")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [PackedVector2Array(), PackedVector2Array(100.646, 86.7565, 149.704, 84.0453, 147.175, -106.186, 98.6225, -107.09, 33.8857, -51.9635, 11.6324, 54.2228), PackedVector2Array()]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xcwav"]
_data = {
"RESET": SubResource("Animation_bljtr"),
"attack_1": SubResource("Animation_qrkb0"),
"attack_2": SubResource("Animation_3gg8t")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vkpy5"]
size = Vector2(892.763, 1550.59)

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("velocity_component", "hitbox", "hitbox_collider") groups=["player"]]
position = Vector2(591, 308)
platform_floor_layers = 4294901760
script = ExtResource("1_5v52i")
velocity_component = NodePath("VelocityComponent")
hitbox = NodePath("DirectionFlipper/HitboxComponent")
hitbox_collider = NodePath("DirectionFlipper/HitboxComponent/CollisionPolygon2D")

[node name="PhysicsCollider" type="CollisionShape2D" parent="."]
visible = false
position = Vector2(-1, 1)
shape = SubResource("RectangleShape2D_c2krb")

[node name="Icon" type="Sprite2D" parent="."]
visible = false
scale = Vector2(0.25248, 0.282597)
texture = ExtResource("2_yus7t")
offset = Vector2(500, 0)

[node name="VelocityComponent" parent="." instance=ExtResource("3_cd58x")]
max_speed = 500

[node name="health_component" parent="." instance=ExtResource("8_mars2")]
max_health = 100

[node name="DirectionFlipper" type="Node2D" parent="." groups=["player"]]
script = ExtResource("7_mwda3")

[node name="Sprite2D" type="Sprite2D" parent="DirectionFlipper"]
texture = ExtResource("5_8bujh")

[node name="Polygon2D" type="Polygon2D" parent="DirectionFlipper"]

[node name="AnimationPlayer" type="AnimationPlayer" parent="DirectionFlipper"]
root_node = NodePath("../Sprite2D")
libraries = {
"": SubResource("AnimationLibrary_xcwav")
}

[node name="HitboxComponent" parent="DirectionFlipper" instance=ExtResource("3_ur2e8")]
scale = Vector2(1.97724, 2.21309)
damage_amount = 100

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="DirectionFlipper/HitboxComponent"]

[node name="HurtboxComponent" parent="DirectionFlipper" node_paths=PackedStringArray("health_component") instance=ExtResource("7_xq8gp")]
visible = false
scale = Vector2(0.127693, 0.127693)
health_component = NodePath("../../health_component")

[node name="CollisionShape2D" type="CollisionShape2D" parent="DirectionFlipper/HurtboxComponent"]
position = Vector2(0, -39.1563)
shape = SubResource("RectangleShape2D_vkpy5")
